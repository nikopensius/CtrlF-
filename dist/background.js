(()=>{function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var r=null,t={};chrome.commands.onCommand.addListener((function(e){"performSearch"===e&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.executeScript(e[0].id,{file:"content.js"},(function(){chrome.tabs.sendMessage(e[0].id,{action:"injectFindBar"})}))}))})),chrome.runtime.onMessage.addListener((function(n,o,a){if("invertedIndex"===n.action)r=n.payload;else if("updateKeywordScores"===n.action){var i=n.payload;t={};var c,u=function(r,t){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(r))||t&&r&&"number"==typeof r.length){n&&(r=n);var o=0,a=function(){};return{s:a,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(r)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(i.split(" "));try{for(u.s();!(c=u.n()).done;){var l=c.value;if(r.hasOwnProperty(l))for(var f=Object.keys(r[l]),s=Math.log(Object.keys(r).length/f.length),d=0,y=f;d<y.length;d++){var h=y[d];t.hasOwnProperty(h)||(t[h]=0);var m=r[l][h];t[h]+=m*s}}}catch(e){u.e(e)}finally{u.f()}a()}else if("getHighestScoringParagraphs"===n.action){var v=n.payload.numParagraphs;a(Object.keys(t).sort((function(e,r){return t[r]-t[e]})).slice(0,v))}return!0}))})();